<nav class="nav-extended">
    <div class="nav-wrapper">
        <a href="#" title="#{viewTitle}" class="brand-logo left">
            &nbsp;<span id="title">#{viewTitle}</span>
        </a>
        <ul id="nav-mobile" class="right">
            <li><a data-action="save" href="#" title="Save"><span class="iconify" data-icon="fa:save"></span>&nbsp;Save</a></li>
            <li><a data-action="cancel" href="#" title="Cancel"><span class="iconify" data-icon="fa:ban"></span>&nbsp;Cancel</a></li>
        </ul>
    </div>
</nav>

<form class="row">
    <blockquote class="panel_error" id="errorPanel" hidden>
        <div class="panel__text">
            <h4>Oops! Slight problem</h4>
            <span id="errorMessage"></span>
        </div>
    </blockquote>

    <input type="hidden" id="ConnectionId" />
    <input type="hidden" id="ConnectionType" />
    <input type="hidden" id="AccessToken" />
    <input type="hidden" id="RefreshToken" />
    <input type="hidden" id="IsMultiFactorAuthentication" />

    <div class="col s12">
        <div class="row">
            <div class="input-field col s12">
                <input id="ConnectionName" type="text" class="validate">
                <label for="ConnectionName">Connection Name</label>
                <span class="helper-text" data-error="We're sorry, no special characters in the connection name"
                    data-success="Got it!">What would you like to call this connection in the future?</span>
            </div>
        </div>
    </div>

    <ul class="collapsible col s12" id="ConnectionOptions">
        <li>
            <div class="collapsible-header">
                <span class="iconify" data-icon="entypo-text" data-width="60" data-height="24"></span>
                Connect using a connection string
            </div>
            <div class="collapsible-body">
                <div class="row">
                    <div class="input-field col s11">
                        <input id="ConnectionString" type="text"
                            placeholder="AuthType=Office365; ServiceUri=https://orgname.crm.dynamics.com; Username=username; Password=password" />
                        <label for="ConnectionString">Connection String</label>
                    </div>
                    <div class="input-field col s1">
                        <a href="#" title="Parse Connection String" data-action="parse-connectionstring"
                            class="waves-effect waves-light btn-small">Go</a>
                    </div>
                </div>
            </div>
        </li>
        <li class="active">
            <div class="collapsible-header icon-text-height">
                <span class="iconify" data-icon="uil-cloud-data-connection" data-width="60" data-height="24"></span>
                Connect using discovery services using these authentication methods
            </div>
            <div class="collapsible-body row">
                <div class="col s12">
                    <ul class="tabs" id="ConnectionTypeTabs">
                        <li class="tab col s3"><a href="#windowsAuth">Windows (On-Premises)</a></li>
                        <li class="tab col s3"><a class="active" href="#onlineAuth">CDS Online</a></li>
                        <li class="tab col s3"><a href="#azureAdAuth">Azure AD</a></li>
                        <li class="tab col s3 disabled"><a href="#ifdAuth">IFD / ADFS</a></li>
                    </ul>
                </div>
                <div id="windowsAuth">
                    <div class="col s4 input-field">
                        <input id="OnPrem-Domain" type="text" placeholder="COMPANYNAME" />
                        <label for="OnPrem-Domain">Domain</label>
                    </div>
                    <div class="col s4 input-field">
                        <input id="OnPrem-Username" type="text" />
                        <label for="OnPrem-Username">Username</label>
                    </div>
                    <div class="col s4 input-field">
                        <input id="OnPrem-Password" type="password" />
                        <label for="OnPrem-Password"><span>Password </span><a href="#" title="Edit Password"
                                data-action="edit-password" hidden>Edit Password</a></label>
                    </div>
                    <div class="col s12 input-field">
                        <input id="OnPrem-ServerUrl" type="text" placeholder="https://crm/" />
                        <label for="OnPrem-ServerUrl">Server URL</label>
                    </div>
                </div>
                <div class="row" id="onlineAuth">
                    <div class="col s5 input-field">
                        <input id="Online-Username" type="text" />
                        <label for="Online-Username">Username</label>
                    </div>
                    <div class="col s5 input-field">
                        <input id="Online-Password" type="password" />
                        <label for="Online-Password"><span>Password </span><a href="#" title="Edit Password"
                                data-action="edit-password" hidden>Edit Password</a></label>
                    </div>
                    <div class="col s2 input-field">
                        <a href="#" title="Discover Online Organizations" data-action="discover"
                            class="waves-effect waves-light btn-small">Discover</a>
                    </div>
                    <div class="col s12 input-field">
                        <input id="Online-OrgUrl" type="url" />
                        <label for="Online-OrgUrl">Organization URL</label>
                    </div>
                </div>
                <div class="row" id="azureAdAuth">
                    <div class="col s12 input-field">
                        <input id="AzureAd-ResourceUrl" type="url" />
                        <label for="AzureAd-ResourceUrl">Redirect URL</label>
                    </div>
                    <div class="col s12 input-field">
                        <input id="AzureAd-AuthorityUrl" type="url" value="https://login.microsoftonline.com/common" />
                        <label for="AzureAd-AuthorityUrl">Authority URL</label>
                    </div>
                    <div class="col s12 input-field">
                        <input id="AzureAd-ClientId" type="text" />
                        <label for="AzureAd-ClientId">Client ID</label>
                    </div>
                    <div class="col s12 input-field">
                        <input id="AzureAd-ClientSecret" type="password" />
                        <label for="AzureAd-ClientSecret"><span>Client Secret </span><a href="#" title="Edit Password"
                                data-action="edit-password" hidden>Edit Secret</a></label>
                    </div>
                </div>
                <div class="row" id="ifdAuth">

                </div>
            </div>
        </li>
        <li>
            <div class="collapsible-header">
                <span class="iconify" data-icon="dashicons-admin-settings" data-width="60" data-height="24"></span>
                Advanced Options
            </div>
            <div class="collapsible-body">
                <div class="row">
                    <label class="s12 m6 l5 col">
                        <input type="checkbox" class="filled-in" id="WebApiVersion-Select"
                            ux-enable-target="#WebApiVersion" />
                        <span>Specify the API version to use when issuing requests</span>
                    </label>
                    <div class="s12 m6 l7 col input-field">
                        <select id="WebApiVersion" disabled>
                            <option value="" disabled selected>Auto-select API</option>
                            <option value="v8.0">Dynamics CRM 8.0</option>
                            <option value="v8.1">Dynamics CRM 8.1</option>
                            <option value="v8.2">Dynamics 365 for Customer Engagement 8.2</option>
                            <option value="v9.0">Common Data Service 9.0</option>
                        </select>
                        <label>API Version to use</label>
                    </div>
                </div>
                <div class="row">
                    <label class="s12 m6 l5 col">
                        <input type="checkbox" class="filled-in" id="OAuthToken-Select"
                            ux-enable-target="#OAuthToken" />
                        <span>Attempt authentication with an existing OAuth refresh token</span>
                    </label>
                    <div class="s12 m6 l7 col input-field">
                        <input id="OAuthToken" type="text" disabled />
                        <label for="OAuthToken">Refresh Token</label>
                    </div>
                </div>
            </div>
        </li>
    </ul>

    <p>
        Your security is important: All credentials are securely stored with keys you control. See our <a
            href="https://github.com/cloudsmith-consulting/cds-for-code/privacy.md">security and privacy</a> notice.
    </p>
</form>